(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{FWkF:function(e,n,t){"use strict";t.r(n);var a=t("KHd+"),c=Object(a.a)({},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"markdown"},[t("h2",[e._v("国际化")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),t("h2",[e._v("cube-ui 组件的国际化")]),e._v(" "),t("p",[e._v("cube-ui 默认是用的中文语言包，并且已经注册了。cube-ui 内部也内置了对应的英文语言包，但是你需要如下的逻辑来注册语言包，同时切换至对应的语言。")]),e._v(" "),e._m(2),e._v(" "),t("p",[e._v("cube-ui 会监听当前的语言类型，因此自动渲染组件对应的文案，同时缓存加载过的文案，在做组件语言切换的时候，如果语言包已经安装，cube-ui 直接取缓存的文案。类似伪代码如下：")]),e._v(" "),e._m(3),e._v(" "),t("p",[e._v("但是可能你有其他国家的翻译需求，比如日语、韩语，那么你需要自己提供语言包，并且切换至对应语言。代码如下：")]),e._v(" "),e._m(4),e._v(" "),t("p",[e._v("你导入的语言包的配置项形式应该与下面相仿，默认的中文语言包如下：")]),e._v(" "),t("pre",[t("code",{staticClass:"language-js"},[e._v("  export default {\n    cancel: '取消',\n    confirm: '确认',\n    ok: '确定',\n    prev: '上一步',\n    next: '下一步',\n    selectText: '请选择',\n    now: '现在',\n    selectTime: '选择时间',\n    today: '今日',\n    formatDate: 'M月D日',\n    hours: '点',\n    minutes: '分',\n    validator: {\n      required: '此为必填项',\n      type: {\n        string: '请输入字符',\n        number: '请输入数字',\n        array: '数据类型应为数组',\n        date: '请选择有效日期',\n        email: '请输入有效邮箱',\n        tel: '请输入有效的手机号码',\n        url: '请输入有效网址'\n      },\n      min: {\n        string: '至少输入 "+e._s(e.config)+" 位字符',\n        number: '不得小于 "+e._s(e.config)+"',\n        array: '请选择至少 "+e._s(e.config)+" 项',\n        date: '请选择 "+e._s(e._f("toLocaleDateString")(e.config,"yyyy年MM月dd日"))+" 之后的时间',\n        email: '至少输入 "+e._s(e.config)+" 位字符',\n        tel: '至少输入 "+e._s(e.config)+" 位字符',\n        url: '至少输入 "+e._s(e.config)+" 位字符'\n      },\n      max: {\n        string: '请勿超过 "+e._s(e.config)+" 位字符',\n        number: '请勿大于 "+e._s(e.config)+"',\n        array: '最多选择 "+e._s(e.config)+" 项',\n        date: '请选择 "+e._s(e._f("toLocaleDateString")(e.config,"yyyy年MM月dd日"))+" 之前的时间',\n        email: '请勿超过 "+e._s(e.config)+" 位字符',\n        tel: '请勿超过 "+e._s(e.config)+" 位字符',\n        url: '请勿超过 "+e._s(e.config)+" 位字符'\n      },\n      len: {\n        string: '请输入 "+e._s(e.config)+" 位字符',\n        number: '长度应等于 "+e._s(e.config)+"',\n        array: '请选择 "+e._s(e.config)+" 项',\n        date: '请选择 "+e._s(e._f("toLocaleDateString")(e.config,"yyyy年MM月dd日"))+" 之前的时间',\n        email: '请输入 "+e._s(e.config)+" 位字符',\n        tel: '请输入 "+e._s(e.config)+" 位字符',\n        url: '请输入 "+e._s(e.config)+" 位字符'\n      },\n      pattern: '格式错误',\n      custom: '未通过校验',\n      notWhitespace: '空白内容无效'\n    }\n  }\n")])]),e._v(" "),t("h2",[e._v("程序应用的国际化<sup>1.12.23+</sup>")]),e._v(" "),t("p",[e._v("如上面所述，cube-ui 给自己的组件提供了国际化的能力，但是这种能力也能延伸至你的应用，分两步进行：")]),e._v(" "),e._m(5),e._v(" "),t("p",[e._v("首先，得导入语言包，这个语言包应该是包含 cube-ui 默认语言包的全集。比如你的语言包配置可能如下：")]),e._v(" "),e._m(6),e._v(" "),t("p",[e._v("接着在你应用的入口文件导入这个语言包。")]),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),t("p",[e._v("接着，只需要在模版使用它就行：")]),e._v(" "),t("pre",[t("code",{staticClass:"language-html"},[e._v("<template>\n  <div>\n    "+e._s(e.$t("application_key"))+"\n  </div>\n</template>\n")])]),e._v(" "),t("p",[e._v("最后，"),t("code",[e._v(e._s(e.$t("application_key")))]),e._v(" 就被渲染成 "),t("code",[e._v('"这是我应用的翻译"')]),e._v("。考虑到你的语言包可能是多层级嵌套，"),t("code",[e._v("$t")]),e._v(" 还接受一个以 "),t("code",[e._v('"."')]),e._v(" 为分隔符的字符串，来获取深层次的属性，例如：")]),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),t("pre",[t("code",{staticClass:"language-html"},[e._v("<template>\n  <div>\n    "+e._s(e.$t("a.b.c"))+"\n  </div>\n</template>\n")])])])},[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("blockquote",[t("p",[e._v("1.11.0 新增")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",[e._v("cube-ui 内部所有非可配置的文案，都是中文的形式，所以如果你的应用是需要做对应的国际化文案翻译，那么 cube-ui  "),t("code",[e._v("1.11.0")]),e._v(" 这个版本是提供了给 cube-ui 组件的文案翻译的能力，甚至这种能力也能延伸至你的应用。")])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pre",[t("code",{staticClass:"language-js"},[e._v("  import Vue from 'vue'\n  import { Locale } from 'cube-ui'\n  import enUSMessages from 'cube-ui/src/locale/lang/en-US'\n\n  Vue.use(Locale)\n  // 切换至英语，并且缓存当前语言包\n  Locale.use('en-US', enUSMessages)\n")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pre",[t("code",{staticClass:"language-js"},[e._v("  import Vue from 'vue'\n  import { Locale } from 'cube-ui'\n  import enUSMessages from 'cube-ui/src/locale/lang/en-US'\n\n  // 默认加载中文语言包\n  Vue.use(Locale)\n\n  // 切换至英语，并且需要导入英语语言包\n  one.click(() =>{\n    Locale.use('en-US', enUSMessages)\n  })\n\n  another.click(() => {\n    // 从缓存取之前的语言包\n    Locale.use('zh-CN')\n  })\n")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pre",[t("code",{staticClass:"language-js"},[e._v("  import Vue from 'vue'\n  import { Locale } from 'cube-ui'\n  import jPMessages from '/somewhere/ja-JP.js' // 自己的语言包\n\n  Vue.use(Locale)\n\n  // 切换至日语，并且需要导入日语语言包\n  Locale.use('ja-JP', jPMessages)\n")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ol",[t("li",[t("strong",[e._v("导入语言包")])])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pre",[t("code",{staticClass:"language-js"},[e._v('  // default.js\n\n  export default {\n    "application_key": "这是我应用的翻译",\n    "country": {\n      "province": "北京"\n    }\n\n    /* cube-ui 的默认配置*/\n    "cancel": "Cancel",\n    // ...忽略中间部分的配置，\n    "validator": {/* */}\n  }\n')])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pre",[t("code",{staticClass:"language-js"},[e._v("  import Vue from 'vue'\n  import { Locale } from 'cube-ui'\n  import defaultMessages from 'default.js' // 自己的语言包\n\n  Vue.use(Locale)\n  Locale.use('zh-CN', defaultMessages)\n")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[e._v("在组件内部通过 mixins 注入翻译的能力")])])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",[e._v("然后借助于 "),t("code",[e._v("Vue")]),e._v(" 提供的 mixin 能力。cube-ui 提供了语言包 "),t("code",[e._v("key=>value")]),e._v(" 的转换函数 "),t("code",[e._v("$t")]),e._v("，你只需要在组件的 "),t("code",[e._v("mixins")]),e._v(" 属性注入它，之后就可以在模版使用。示例如下：")])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pre",[t("code",{staticClass:"language-js"},[e._v("// dialog.vue\n\nimport { Locale } from 'cube-ui'\n<script>\n  export default {\n    //...\n    mixins: [Locale.localeMixin] // 注入 mixin，拥有 $t 的能力，1.12.23 版本新加\n  }\n<\/script>\n")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("pre",[t("code",{staticClass:"language-js"},[e._v('// 你的语言包结构形式\nexport default {\n  a: {\n    b: {\n      c: "嵌套的 c"\n    }\n  }\n}\n')])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("p",[e._v("那么你在 "),t("code",[e._v("template")]),e._v(" 的使用就很简单。")])}],!1,null,null,null);n.default=c.exports}}]);